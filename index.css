/* =========================
   Design Tokens / Reset
   ========================= */
:root{
  --brand: #002677;
  --brand-600:#0b3a9b;
  --brand-700:#072e7b;
  --ink:#0f172a;
  --ink-2:#334155;
  --muted:#64748b;
  --bg:#f6f7fb;
  --surface:#ffffff;
  --border:#e6e8ee;
  --shadow: 0 8px 24px rgba(2,18,64,.08);
  --radius: 14px;
  --radius-sm:10px;
  --space: clamp(16px, 2.2vw, 28px);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: var(--bg);
  color: var(--ink);
  font: 16px/1.6 "Fira Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* =========================
   Top Navigation
   ========================= */
.topnav{
  position: sticky;
  top: 0;
  z-index: 1000;
  background: linear-gradient(90deg, var(--brand) 0%, var(--brand-600) 100%);
  box-shadow: var(--shadow);
}
.topnav a{
  display:inline-block;
  color:#f8fafc;
  padding:14px 18px;
  text-decoration:none;
  font-family: "Roboto Slab", serif;
  font-weight: 600;
  letter-spacing:.2px;
  transition: all .2s ease;
}
.topnav a:hover{
  background: rgba(255,255,255,.12);
  transform: translateY(-1px);
}
.topnav a.active{
  background: rgba(255,255,255,.18);
  border-bottom: 2px solid #fff;
}

/* =========================
   Header / Hero
   ========================= */
.header{
  min-height: 260px;
  padding: clamp(36px, 6vw, 80px);
  text-align:center;
  color:#fff;
  background-image: linear-gradient(rgba(0,0,0,.35), rgba(0,0,0,.35)), url("cover_picture_gaza_npr.jpg");
  background-size: cover;
  background-position: center;
  display:grid;
  place-items:center;
}
.header h1{
  margin:0 0 8px 0;
  font: 700 clamp(28px, 4vw, 44px) "Roboto Slab", serif;
  text-shadow: 0 2px 12px rgba(0,0,0,.25);
}
.header p{
  margin:0;
  font-weight:500;
  letter-spacing:.3px;
  text-shadow: 0 1px 8px rgba(0,0,0,.25);
}

/* =========================
   Page Layout
   ========================= */
.introduction{
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space);
}
h1,h2,h3,h4,h5,h6{
  font-family:"Roboto Slab", serif;
  color: var(--brand-700);
  margin: 0 0 8px 0;
}
h2{
  margin-top: 40px;
  font-size: clamp(22px, 3vw, 30px);
}
h3{
  margin-top: 28px;
  font-size: clamp(18px, 2.2vw, 22px);
  color: var(--brand);
}
p{color: var(--ink-2); margin: 0 0 16px 0}

ul,ol{
  color:var(--ink-2);
  line-height:1.7;
  margin:0 0 20px 1.1rem;
}
ul li,ol li{margin-bottom:8px}

/* Info callout */
.section-preview{
  background:linear-gradient(180deg,#f8fafc, #eef2ff);
  padding:20px;
  border-left:4px solid var(--brand);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow);
  margin: 30px 0;
}

/* =========================
   Chart Sections
   ========================= */
.chart-section{
  margin: clamp(32px, 4vw, 60px) 0;
  padding: clamp(18px, 2.4vw, 26px);
  background: var(--surface);
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}
.chart-section > p{
  max-width: 75ch;
}

/* Chart container */
.chart-container{
  margin: 22px 0 6px;
  background: #fff;
  padding: clamp(14px, 2vw, 20px);
  border:1px solid var(--border);
  border-radius: var(--radius-sm);
  position: relative;
  overflow: visible;
}

/* Give all SVGs a clean responsive layout */
.chart-container svg{
  display:block;
  max-width:100%;
  height:auto;
  margin-inline:auto;
}

/* =========================
   Axes / Bars / Grids
   ========================= */
.axis{
  font-family:"Fira Sans",sans-serif;
  font-size:12px;
  color:#475569;
}
.axis path,
.axis line{ stroke:#cbd5e1 }

.axis-label{
  font-family:"Roboto Slab", serif;
  font-size:13.5px;
  font-weight:700;
  fill:#334155;
}

.grid-line{
  stroke:#e2e8f0;
  stroke-width:1;
  stroke-dasharray:3 3;
}

.bar{ fill:#4a90e2; transition:opacity .2s, transform .2s }
.bar:hover{ opacity:.85; transform: translateY(-2px) }

.bar-group-1{ fill:#4a90e2 }
.bar-group-2{ fill:#e74c3c }

/* =========================
   Heatmap
   ========================= */
.heatmap-cell{
  stroke:#fff;
  stroke-width:1;
  rx:4; ry:4;
  transition: stroke-width .15s ease, transform .15s ease;
}
.heatmap-cell:hover{
  stroke:#111827;
  stroke-width:2;
  transform: scale(1.02);
}

/* =========================
   Waffle / Stacked Bars
   ========================= */
.waffle-cell{
  stroke:#fff; stroke-width:1; rx:4; ry:4;
  transition: transform .15s ease, opacity .15s ease;
}
.waffle-cell:hover{ transform: scale(1.04); opacity:.9 }

.stacked-bar{ stroke:#fff; stroke-width:1; transition:opacity .2s, transform .2s }
.stacked-bar:hover{ opacity:.9; transform: translateY(-2px); stroke:#0f172a }

/* Category colors (shared) */
.category-state{ fill:#4a90e2 }
.category-rebel{ fill:#e74c3c }
.category-civilian{ fill:#2ecc71 }
.category-other{ fill:#f39c12 }
.category-military{ fill:#4a90e2 }
.category-civilians{ fill:#e74c3c }
.category-rebels{ fill:#2ecc71 }
.category-children{ fill:#f39c12 }
.category-other-waffle{ fill:#9b59b6 }

.category-targeting{ fill:#e74c3c }
.category-demonstrations{ fill:#2ecc71 }
.category-combatants{ fill:#4a90e2 }

/* =========================
   Tooltip / Legend
   ========================= */
.tooltip{
  position:absolute;
  left:0; top:0;
  transform: translate(-50%,-110%);
  background: rgba(17,24,39,.96);
  color:#fff;
  padding:8px 10px;
  border-radius:10px;
  box-shadow: 0 10px 24px rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.08);
  font: 12px/1.3 "Fira Sans", sans-serif;
  pointer-events:none;
  opacity:0;
  transition: opacity .18s ease, transform .18s ease;
}
.tooltip.visible{ opacity:1; transform: translate(-50%,-120%) }

.legend{
  font: 12px "Fira Sans", sans-serif;
  display:grid;
  gap:8px;
  margin-top:10px;
}
.legend-item{ cursor:pointer; display:flex; align-items:center; gap:8px }

/* =========================
   Footer
   ========================= */
.footer{
  background: var(--brand);
  color:#fff;
  text-align:center;
  padding: 36px 16px;
  margin-top: 64px;
  box-shadow: var(--shadow);
}
.footer p{ margin:6px 0 }

/* =========================
   Responsive
   ========================= */
@media (max-width: 900px){
  .introduction{ padding: 20px }
  .chart-section{ padding:18px }
  .chart-container{ padding:16px }
  .header{ min-height: 220px }
}
